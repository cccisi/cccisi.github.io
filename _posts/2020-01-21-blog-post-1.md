---
title: '硬件木马'
date: 2020-01-21
permalink: /posts/2020/01/21/blog-post-1/
tags:
  - Hardware Trojan
  - Logic Encryption
  - Rarity
---

了解中文核心期刊的时候偶然看到如下两篇关于硬件木马检测与防护的文章，时间都比较新，2019，2020的，于是拿来读一读。（好久没读中文期刊了，读起来还真是亲切）
- [基于转换概率及RO结构的硬件木马检测](http://ca.hfut.edu.cn/2018/1112/c4593a190028/page.htm)
- [基于稀有度与逻辑加密的硬件木马防护方法](http://www.shcas.net/)

背景介绍
======
* 硬件木马的检测方法主要可分为破坏性方法和非破坏性方法。破坏性方法主要指的是逆向工程验证，通过将待测芯片去封装，然后使用扫描电镜等设备对电路逐层进行拍照，再与原始版图作对比，从而判断芯片中有无硬件木马，该方法效果较好但成本非常高昂。非破坏性方法包含逻辑测试和旁路分析。基于逻辑测试的检测技术主要是通过在电路的输入端施加各种测试向量，并观察电路的输出是否和预期的输出一致，从而判断电路内部是否被植入硬件木马，该方法能够有效地检测较小规模电路中的HT，对于大规模电路，由于测试向量的获取较为困难，故HT难于检测。旁路分析方法则是利用在电路中植入HT会对电路的旁路信号产生影响来观察比较待测电路与原始电路的旁路信息进行HT的检测，该方法能够检测出电路中规模较大的木马电路，对于较小的木马电路，由于工艺噪声的影响，HT对电路产生的影响易被覆盖，故不易检测HT。
可信设计方法则是通过在电路上增加额外的电路模块来辅助促进非破坏性硬件木马检测方法，减小测试向量的获取难度或者放大HT对电路参数的影响。

* 逻辑加密技术通过在电路中插入密钥门使电路的功能产生混淆，输入正确的密钥解锁电路。电路混淆技术主
要包括基于组合电路的逻辑加密技术以及基于状态机的时序型电路混淆设计。对于组合电路，由于电路中存在的翻转概率较低的节点容易被硬件木马攻击者所利用，因此对于硬件木马防护来说，基于逻辑加密的硬件木马方法关键在于消除电路存在的稀有节点，使得攻击者无法轻易获取电路的低概率节点即稀有节点，它是硬件木马的常见植入点类型之一。电路中节点的转换概率可以通过假设各pin的0/1概率均为0.5，然后用门电路的逻辑计算出。

* 基于可满足性( SAT) 的攻击方法能够在几个小时内有效破解大多数的逻辑加密方法，通过选取合适的差分输入向量，在同一个输入向量中，选取至少两个不同的密钥，当输出结果不同时，则说明至少存在一个密钥错误。因此，逻辑加密方法的安全性能受到极大的威胁。SAT 攻击需要两个条件:
1. 获取加密设计的网表;
2. 市场上黑盒状态下激活的功能IC。

基于RO结构的硬件木马检测
------
## 创新点
- 筛选转换概率较低的组合电路节点；
- 用RO的周期变化特征检测是否引入了木马。

## 问题
- 文中采用benchmark ISCAS'85中的组合电路，但这其中的电路都比较小，因此比较好确定少数的几个位点进行检测。面对大规模的电路时很难将所有低概率节点都采用RO保护。

逻辑加密的硬件木马防护
------
## 创新点
- 稀有节点筛选方法；
- 利用了树形逻辑加密。

## 总结
- 本文通过改进型逻辑加密算法详细介绍该流程，以分析电路中的稀有节点为基础，提出了基于树形结构的改进型逻辑加密算法，增加基于逻辑加密的硬件木马防护性能。算法的基本思想是以消除稀有节点和增加抗SAT 攻击难度为目标，通过稀有节点的概率排序逐个插入密钥门以消除节点的稀有值，并且根据需要增加混淆门。

## 问题
- 抗SAT攻击这部分感觉分析不够
